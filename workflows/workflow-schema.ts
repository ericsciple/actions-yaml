import { JSONObjectReader } from "../templates/json-object-reader"
import { TemplateSchema } from "../templates/schema"

let schema: TemplateSchema
const json =
  // BEGIN GENERATED CONTENT - INSTEAD EDIT workflow-schema.json
  "{\n  \"definitions\": {\n\n    \"workflow-root\": {\n      \"description\": \"Workflow file\",\n      \"mapping\": {\n        \"properties\": {\n          \"on\": \"on\",\n          \"name\": \"string\",\n          \"defaults\": \"workflow-defaults\",\n          \"env\": \"workflow-env\",\n          \"permissions\": \"permissions\",\n          \"concurrency\": \"workflow-concurrency\",\n          \"jobs\": {\n            \"type\": \"jobs\",\n            \"required\": true\n          }\n        }\n      }\n    },\n\n    \"on\": {\n      \"one-of\": [\n        \"string\",\n        \"sequence\",\n        \"on-mapping\"\n      ]\n    },\n\n    \"on-mapping\": {\n      \"mapping\": {\n        \"properties\": {\n          \"workflow_call\": \"workflow-call\"\n        },\n        \"loose-key-type\": \"non-empty-string\",\n        \"loose-value-type\": \"any\"\n      }\n    },\n\n    \"workflow-call\": {\n      \"one-of\": [\n        \"null\",\n        \"workflow-call-mapping\"\n      ]\n    },\n\n    \"workflow-call-mapping\": {\n      \"mapping\": {\n        \"properties\": {\n          \"inputs\": \"workflow-call-inputs\",\n          \"secrets\": \"workflow-call-secrets\",\n          \"outputs\": \"workflow-call-outputs\"\n        }\n      }\n    },\n\n    \"workflow-call-inputs\": {\n      \"mapping\": {\n        \"loose-key-type\": \"non-empty-string\",\n        \"loose-value-type\": \"workflow-call-input-definition\"\n      }\n    },\n\n    \"workflow-call-input-definition\": {\n      \"mapping\": {\n        \"properties\": {\n          \"description\": \"string\",\n          \"type\": {\n            \"type\": \"workflow-call-input-type\",\n            \"required\": true\n          },\n          \"required\": \"boolean\",\n          \"default\": \"input-default\"\n        }\n      }\n    },\n\n    \"workflow-call-input-type\": {\n      \"one-of\": [\n        \"input-type-string\",\n        \"input-type-boolean\",\n        \"input-type-number\"\n      ]\n    },\n\n    \"input-type-string\": {\n      \"string\": {\n        \"constant\": \"string\"\n      }\n    },\n\n    \"input-type-boolean\": {\n      \"string\": {\n        \"constant\": \"boolean\"\n      }\n    },\n\n    \"input-type-number\": {\n      \"string\": {\n        \"constant\": \"number\"\n      }\n    },\n\n    \"input-default\": {\n      \"context\": [\n        \"github\"\n      ],\n      \"one-of\": [\n        \"string\",\n        \"boolean\",\n        \"number\"\n      ]\n    },\n\n    \"workflow-call-secrets\": {\n      \"mapping\": {\n        \"loose-key-type\": \"non-empty-string\",\n        \"loose-value-type\": \"workflow-call-secret-definition\"\n      }\n    },\n\n    \"workflow-call-secret-definition\": {\n      \"mapping\": {\n        \"properties\": {\n          \"description\": \"string\",\n          \"required\": \"boolean\"\n        }\n      }\n    },\n\n    \"workflow-call-outputs\": {\n      \"mapping\": {\n        \"loose-key-type\": \"non-empty-string\",\n        \"loose-value-type\": \"workflow-call-output-definition\"\n      }\n    },\n\n    \"workflow-call-output-definition\": {\n      \"mapping\": {\n        \"properties\": {\n          \"description\": \"string\",\n          \"value\": \"workflow-output-context\"\n        }\n      }\n    },\n\n    \"workflow-output-context\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"jobs\"\n      ],\n      \"string\": {}\n    },\n\n    \"permissions\": {\n      \"one-of\": [\n        \"permissions-mapping\",\n        \"permission-level-shorthand-read-all\",\n        \"permission-level-shorthand-write-all\"\n      ]\n    },\n\n    \"permissions-mapping\": {\n      \"mapping\": {\n        \"properties\": {\n          \"actions\": \"permission-level-any\",\n          \"checks\": \"permission-level-any\",\n          \"contents\": \"permission-level-any\",\n          \"deployments\": \"permission-level-any\",\n          \"issues\": \"permission-level-any\",\n          \"discussions\": \"permission-level-any\",\n          \"packages\": \"permission-level-any\",\n          \"pages\": \"permission-level-any\",\n          \"pull-requests\": \"permission-level-any\",\n          \"repository-projects\": \"permission-level-any\",\n          \"statuses\": \"permission-level-any\",\n          \"security-events\": \"permission-level-any\",\n          \"id-token\":  \"permission-level-write-or-no-access\"\n        }\n      }\n    },\n\n    \"permission-level-any\": {\n      \"one-of\": [\n        \"permission-level-read\",\n        \"permission-level-write\",\n        \"permission-level-no-access\"\n      ]\n    },\n\n    \"permission-level-read-or-no-access\": {\n      \"one-of\": [\n        \"permission-level-read\",\n        \"permission-level-no-access\"\n      ]\n    },\n\n    \"permission-level-write-or-no-access\":{\n      \"one-of\": [\n        \"permission-level-write\",\n        \"permission-level-no-access\"\n      ]\n    },\n\n    \"permission-level-read\": {\n      \"string\": {\n        \"constant\": \"read\"\n      }\n    },\n\n    \"permission-level-write\": {\n      \"string\": {\n        \"constant\": \"write\"\n      }\n    },\n\n    \"permission-level-no-access\": {\n      \"string\": {\n        \"constant\": \"none\"\n      }\n    },\n\n    \"permission-level-shorthand-read-all\": {\n      \"string\": {\n        \"constant\": \"read-all\"\n      }\n    },\n\n    \"permission-level-shorthand-write-all\": {\n      \"string\": {\n        \"constant\": \"write-all\"\n      }\n    },\n\n    \"workflow-defaults\": {\n      \"mapping\": {\n        \"properties\": {\n          \"run\": \"workflow-defaults-run\"\n        }\n      }\n    },\n\n    \"workflow-defaults-run\": {\n      \"mapping\": {\n        \"properties\": {\n          \"shell\": \"non-empty-string\",\n          \"working-directory\": \"non-empty-string\"\n        }\n      }\n    },\n\n    \"workflow-env\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"secrets\"\n      ],\n      \"mapping\": {\n        \"loose-key-type\": \"non-empty-string\",\n        \"loose-value-type\": \"string\"\n      }\n    },\n\n    \"jobs\": {\n      \"mapping\": {\n        \"loose-key-type\": \"non-empty-string\",\n        \"loose-value-type\": \"job\"\n      }\n    },\n\n    \"job\": {\n      \"one-of\": [\n        \"job-factory\",\n        \"workflow-phase\"\n      ]\n    },\n\n    \"job-factory\": {\n      \"mapping\": {\n        \"properties\": {\n          \"needs\": \"needs\",\n          \"if\": \"job-if\",\n          \"strategy\": \"strategy\",\n          \"name\": \"string-strategy-context\",\n          \"runs-on\": {\n            \"type\": \"runs-on\",\n            \"required\": true\n          },\n          \"timeout-minutes\": \"number-strategy-context\",\n          \"cancel-timeout-minutes\": \"number-strategy-context\",\n          \"continue-on-error\": \"boolean-strategy-context\",\n          \"container\": \"container\",\n          \"services\": \"services\",\n          \"env\": \"job-env\",\n          \"environment\": \"job-environment\",\n          \"permissions\": \"permissions\",\n          \"concurrency\": \"job-concurrency\",\n          \"outputs\": \"job-outputs\",\n          \"defaults\": \"job-defaults\",\n          \"steps\": \"steps\"\n        }\n      }\n    },\n\n    \"workflow-phase\": {\n      \"mapping\": {\n        \"properties\": {\n          \"name\": \"string-strategy-context\",\n          \"uses\": {\n            \"type\": \"non-empty-string\",\n            \"required\": true\n          },\n          \"with\": \"workflow-phase-with\",\n          \"secrets\": \"workflow-phase-secrets\",\n          \"needs\": \"needs\",\n          \"if\": \"job-if\",\n          \"permissions\": \"permissions\"\n        }\n      }\n    },\n\n    \"workflow-phase-with\": {\n      \"mapping\": {\n        \"loose-key-type\": \"non-empty-string\",\n        \"loose-value-type\": \"scalar-needs-context\"\n      }\n    },\n\n    \"workflow-phase-secrets\": {\n      \"mapping\": {\n        \"loose-key-type\": \"non-empty-string\",\n        \"loose-value-type\": \"scalar-needs-context-with-secrets\"\n      }\n    },\n\n    \"needs\": {\n      \"one-of\": [\n        \"sequence-of-non-empty-string\",\n        \"non-empty-string\"\n      ]\n    },\n\n    \"job-if\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"needs\",\n        \"always(0,0)\",\n        \"failure(0,MAX)\",\n        \"cancelled(0,0)\",\n        \"success(0,MAX)\"\n      ],\n      \"string\": {}\n    },\n\n    \"job-if-result\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"needs\",\n        \"always(0,0)\",\n        \"failure(0,MAX)\",\n        \"cancelled(0,0)\",\n        \"success(0,MAX)\"\n      ],\n      \"one-of\": [\n        \"null\",\n        \"boolean\",\n        \"number\",\n        \"string\",\n        \"sequence\",\n        \"mapping\"\n      ]\n    },\n\n    \"strategy\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"needs\"\n      ],\n      \"mapping\": {\n        \"properties\": {\n          \"fail-fast\": \"boolean\",\n          \"max-parallel\": \"number\",\n          \"matrix\": \"matrix\"\n        }\n      }\n    },\n\n    \"matrix\": {\n      \"mapping\": {\n        \"properties\": {\n          \"include\": \"matrix-filter\",\n          \"exclude\": \"matrix-filter\"\n        },\n        \"loose-key-type\": \"non-empty-string\",\n        \"loose-value-type\": \"sequence\"\n      }\n    },\n\n    \"matrix-filter\": {\n      \"sequence\": {\n        \"item-type\": \"matrix-filter-item\"\n      }\n    },\n\n    \"matrix-filter-item\": {\n      \"mapping\": {\n        \"loose-key-type\": \"non-empty-string\",\n        \"loose-value-type\": \"any\"\n      }\n    },\n\n    \"runs-on\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"needs\",\n        \"strategy\",\n        \"matrix\"\n      ],\n      \"one-of\": [\n        \"non-empty-string\",\n        \"sequence-of-non-empty-string\"\n      ]\n    },\n\n    \"job-env\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"needs\",\n        \"strategy\",\n        \"matrix\",\n        \"secrets\"\n      ],\n      \"mapping\": {\n        \"loose-key-type\": \"non-empty-string\",\n        \"loose-value-type\": \"string\"\n      }\n    },\n\n    \"workflow-concurrency\": {\n      \"context\": [\n        \"github\"\n      ],\n      \"one-of\": [\n        \"non-empty-string\",\n        \"concurrency-mapping\"\n      ]\n    },\n\n    \"job-concurrency\": {\n      \"context\": [\n        \"github\",\n        \"needs\",\n        \"strategy\",\n        \"matrix\"\n      ],\n      \"one-of\": [\n        \"non-empty-string\",\n        \"concurrency-mapping\"\n      ]\n    },\n\n    \"concurrency-mapping\": {\n      \"mapping\": {\n        \"properties\": {\n          \"group\": {\n            \"type\": \"non-empty-string\",\n            \"required\": true\n          },\n          \"cancel-in-progress\": \"boolean\"\n        }\n      }\n    },\n\n    \"job-environment\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"needs\",\n        \"strategy\",\n        \"matrix\"\n      ],\n      \"one-of\": [\n        \"string\",\n        \"job-environment-mapping\"\n      ]\n    },\n\n    \"job-environment-mapping\": {\n      \"mapping\": {\n        \"properties\": {\n          \"name\": {\n            \"type\": \"string-strategy-context\",\n            \"required\": true\n          },\n          \"url\": \"string-runner-context-no-secrets\"\n        }\n      }\n    },\n\n    \"job-defaults\": {\n      \"mapping\": {\n        \"properties\": {\n          \"run\": \"job-defaults-run\"\n        }\n      }\n    },\n\n    \"job-defaults-run\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"strategy\",\n        \"matrix\",\n        \"needs\",\n        \"env\"\n      ],\n      \"mapping\": {\n        \"properties\": {\n          \"shell\": \"non-empty-string\",\n          \"working-directory\": \"non-empty-string\"\n        }\n      }\n    },\n\n    \"job-outputs\": {\n      \"mapping\": {\n        \"loose-key-type\": \"non-empty-string\",\n        \"loose-value-type\": \"string-runner-context\"\n      }\n    },\n\n    \"steps\": {\n      \"sequence\": {\n        \"item-type\": \"steps-item\"\n      }\n    },\n\n    \"steps-item\": {\n      \"one-of\": [\n        \"run-step\",\n        \"regular-step\"\n      ]\n    },\n\n    \"run-step\": {\n      \"mapping\": {\n        \"properties\": {\n          \"name\": \"string-steps-context\",\n          \"id\": \"non-empty-string\",\n          \"if\": \"step-if\",\n          \"timeout-minutes\": \"number-steps-context\",\n          \"run\": {\n            \"type\": \"string-steps-context\",\n            \"required\": true\n          },\n          \"continue-on-error\": \"boolean-steps-context\",\n          \"env\": \"step-env\",\n          \"working-directory\": \"string-steps-context\",\n          \"shell\": \"non-empty-string\"\n        }\n      }\n    },\n\n    \"regular-step\": {\n      \"mapping\": {\n        \"properties\": {\n          \"name\": \"string-steps-context\",\n          \"id\": \"non-empty-string\",\n          \"if\": \"step-if\",\n          \"continue-on-error\": \"boolean-steps-context\",\n          \"timeout-minutes\": \"number-steps-context\",\n          \"uses\": {\n            \"type\": \"non-empty-string\",\n            \"required\": true\n          },\n          \"with\": \"step-with\",\n          \"env\": \"step-env\"\n        }\n      }\n    },\n\n    \"step-if\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"needs\",\n        \"strategy\",\n        \"matrix\",\n        \"steps\",\n        \"job\",\n        \"runner\",\n        \"env\",\n        \"always(0,0)\",\n        \"failure(0,0)\",\n        \"cancelled(0,0)\",\n        \"success(0,0)\",\n        \"hashFiles(1,255)\"\n      ],\n      \"string\": {}\n    },\n\n    \"step-if-result\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"strategy\",\n        \"matrix\",\n        \"steps\",\n        \"job\",\n        \"runner\",\n        \"env\",\n        \"always(0,0)\",\n        \"failure(0,0)\",\n        \"cancelled(0,0)\",\n        \"success(0,0)\",\n        \"hashFiles(1,255)\"\n      ],\n      \"one-of\": [\n        \"null\",\n        \"boolean\",\n        \"number\",\n        \"string\",\n        \"sequence\",\n        \"mapping\"\n      ]\n    },\n\n    \"step-env\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"needs\",\n        \"strategy\",\n        \"matrix\",\n        \"secrets\",\n        \"steps\",\n        \"job\",\n        \"runner\",\n        \"env\",\n        \"hashFiles(1,255)\"\n      ],\n      \"mapping\": {\n        \"loose-key-type\": \"non-empty-string\",\n        \"loose-value-type\": \"string\"\n      }\n    },\n\n    \"step-with\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"needs\",\n        \"strategy\",\n        \"matrix\",\n        \"secrets\",\n        \"steps\",\n        \"job\",\n        \"runner\",\n        \"env\",\n        \"hashFiles(1,255)\"\n      ],\n      \"mapping\": {\n        \"loose-key-type\": \"non-empty-string\",\n        \"loose-value-type\": \"string\"\n      }\n    },\n\n    \"container\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"needs\",\n        \"strategy\",\n        \"matrix\"\n      ],\n      \"one-of\": [\n        \"string\",\n        \"container-mapping\"\n      ]\n    },\n\n    \"container-mapping\": {\n      \"mapping\": {\n        \"properties\": {\n          \"image\": \"non-empty-string\",\n          \"options\": \"non-empty-string\",\n          \"env\": \"container-env\",\n          \"ports\": \"sequence-of-non-empty-string\",\n          \"volumes\": \"sequence-of-non-empty-string\",\n          \"credentials\": \"container-registry-credentials\"\n        }\n      }\n    },\n\n    \"services\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"needs\",\n        \"strategy\",\n        \"matrix\"\n      ],\n      \"mapping\": {\n        \"loose-key-type\": \"non-empty-string\",\n        \"loose-value-type\": \"services-container\"\n      }\n    },\n\n    \"services-container\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"needs\",\n        \"strategy\",\n        \"matrix\"\n      ],\n      \"one-of\": [\n        \"non-empty-string\",\n        \"container-mapping\"\n      ]\n    },\n\n    \"container-registry-credentials\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"secrets\",\n        \"env\"\n      ],\n      \"mapping\": {\n        \"properties\": {\n          \"username\": \"non-empty-string\",\n          \"password\": \"non-empty-string\"\n        }\n      }\n    },\n\n    \"container-env\": {\n      \"mapping\": {\n        \"loose-key-type\": \"non-empty-string\",\n        \"loose-value-type\": \"string-runner-context\"\n      }\n    },\n\n    \"non-empty-string\": {\n      \"string\": {\n        \"require-non-empty\": true\n      }\n    },\n\n    \"sequence-of-non-empty-string\": {\n      \"sequence\": {\n        \"item-type\": \"non-empty-string\"\n      }\n    },\n\n    \"boolean-needs-context\": {\n      \"context\": [\n        \"github\",\n        \"needs\"\n      ],\n      \"boolean\": {}\n    },\n\n    \"number-needs-context\": {\n      \"context\": [\n        \"github\",\n        \"needs\"\n      ],\n      \"number\": {}\n    },\n\n    \"string-needs-context\": {\n      \"context\": [\n        \"github\",\n        \"needs\"\n      ],\n      \"string\": {}\n    },\n\n    \"scalar-needs-context\": {\n      \"context\": [\n        \"github\",\n        \"needs\"\n      ],\n      \"one-of\": [\n        \"string\",\n        \"boolean\",\n        \"number\"\n      ]\n    },\n\n    \"scalar-needs-context-with-secrets\": {\n      \"context\": [\n        \"github\",\n        \"needs\",\n        \"secrets\"\n      ],\n      \"one-of\": [\n        \"string\",\n        \"boolean\",\n        \"number\"\n      ]\n    },\n\n    \"boolean-strategy-context\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"needs\",\n        \"strategy\",\n        \"matrix\"\n      ],\n      \"boolean\": {}\n    },\n\n    \"number-strategy-context\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"needs\",\n        \"strategy\",\n        \"matrix\"\n      ],\n      \"number\": {}\n    },\n\n    \"string-strategy-context\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"needs\",\n        \"strategy\",\n        \"matrix\"\n      ],\n      \"string\": {}\n    },\n\n    \"boolean-steps-context\": {\n      \"context\": [\n        \"github\",\n        \"needs\",\n        \"strategy\",\n        \"matrix\",\n        \"secrets\",\n        \"steps\",\n        \"job\",\n        \"runner\",\n        \"env\",\n        \"hashFiles(1,255)\"\n      ],\n      \"boolean\": {}\n    },\n\n    \"number-steps-context\": {\n      \"context\": [\n        \"github\",\n        \"needs\",\n        \"strategy\",\n        \"matrix\",\n        \"secrets\",\n        \"steps\",\n        \"job\",\n        \"runner\",\n        \"env\",\n        \"hashFiles(1,255)\"\n      ],\n      \"number\": {}\n    },\n\n    \"string-runner-context\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"needs\",\n        \"strategy\",\n        \"matrix\",\n        \"secrets\",\n        \"steps\",\n        \"job\",\n        \"runner\",\n        \"env\"\n      ],\n      \"string\": {}\n    },\n\n    \"string-runner-context-no-secrets\": {\n      \"context\": [\n        \"github\",\n        \"inputs\",\n        \"needs\",\n        \"strategy\",\n        \"matrix\",\n        \"steps\",\n        \"job\",\n        \"runner\",\n        \"env\"\n      ],\n      \"string\": {}\n    },\n\n    \"string-steps-context\": {\n      \"context\": [\n        \"github\",\n        \"needs\",\n        \"inputs\",\n        \"strategy\",\n        \"matrix\",\n        \"secrets\",\n        \"steps\",\n        \"job\",\n        \"runner\",\n        \"env\",\n        \"hashFiles(1,255)\"\n      ],\n      \"string\": {}\n    }\n  }\n}\n"
// END GENERATED CONTENT - INSTEAD EDIT workflow-schema.json

export function getWorkflowSchema(): TemplateSchema {
  if (schema === undefined) {
    schema = TemplateSchema.load(new JSONObjectReader(undefined, json))
  }
  return schema
}
